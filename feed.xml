<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.0.0">Jekyll</generator><link href="https://armsp.github.io/covidviz/feed.xml" rel="self" type="application/atom+xml" /><link href="https://armsp.github.io/covidviz/" rel="alternate" type="text/html" /><updated>2020-05-29T02:29:14-05:00</updated><id>https://armsp.github.io/covidviz/feed.xml</id><title type="html">COVID-19 Viz</title><subtitle>Making professional looking charts the likes of big media houses like NYT, Guardian and others using Python</subtitle><entry><title type="html">Covid Cases Graph for US</title><link href="https://armsp.github.io/covidviz/2020/05/29/Covid-cases.html" rel="alternate" type="text/html" title="Covid Cases Graph for US" /><published>2020-05-29T00:00:00-05:00</published><updated>2020-05-29T00:00:00-05:00</updated><id>https://armsp.github.io/covidviz/2020/05/29/Covid-cases</id><content type="html" xml:base="https://armsp.github.io/covidviz/2020/05/29/Covid-cases.html">&lt;!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2020-05-29-Covid cases.ipynb
--&gt;

&lt;div class=&quot;container&quot; id=&quot;notebook-container&quot;&gt;
        
    
    
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;

&lt;/div&gt;
    

&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;The graph that we will learn to make today is from the NYT article on &lt;a href=&quot;https://www.nytimes.com/interactive/2020/us/coronavirus-us-cases.html&quot;&gt;Coronavirus Tracking in US&lt;/a&gt; which looks as follows -&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/covidviz/images/copied_from_nb/images/line_area_bar.png&quot; alt=&quot;us live cases&quot; /&gt;&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;We will take the data from NYT's &lt;a href=&quot;https://github.com/nytimes/covid-19-data&quot;&gt;GitHub repo&lt;/a&gt; itself.
Lets jump straight into the code -&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
    
    
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;

&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot; highlight hl-ipython3&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;altair&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;alt&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;pandas&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;pd&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;https://raw.githubusercontent.com/nytimes/covid-19-data/master/us.csv&amp;quot;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;usdf&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pd&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;read_csv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#print(udf.columns)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;usdf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;new_cases&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;usdf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;cases&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;diff&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Bar Chart&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;bar&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Chart&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;usdf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mark_bar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;opacity&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;0.2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;red&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;encode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;alt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;X&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;date:T&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;alt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;new_cases:Q&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Area Chart&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;area&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Chart&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;usdf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mark_area&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fill&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;red&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fillOpacity&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;0.15&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;transform_window&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;rolling_average&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;mean(new_cases)&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;frame&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# NYT uses [-6,0] for their average NOT [-7,0]&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;encode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;date:T&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;rolling_average:Q&amp;#39;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Line Chart&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;line&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;area&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mark_line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;color&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;#c11111&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;opacity&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;0.9&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;strokeWidth&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;chart&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;area&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;configure_axis&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;grid&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;False&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;None&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;configure_view&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;strokeWidth&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;properties&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;chart&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;

&lt;div class=&quot;output_area&quot;&gt;


&lt;div class=&quot;output_html rendered_html output_subarea output_execute_result&quot;&gt;

&lt;div id=&quot;altair-viz-b556e2e3a8d6432f8210673ae90ae9ba&quot;&gt;&lt;/div&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== &quot;altair-viz-b556e2e3a8d6432f8210673ae90ae9ba&quot;) {
      outputDiv = document.getElementById(&quot;altair-viz-b556e2e3a8d6432f8210673ae90ae9ba&quot;);
    }
    const paths = {
      &quot;vega&quot;: &quot;https://cdn.jsdelivr.net/npm//vega@5?noext&quot;,
      &quot;vega-lib&quot;: &quot;https://cdn.jsdelivr.net/npm//vega-lib?noext&quot;,
      &quot;vega-lite&quot;: &quot;https://cdn.jsdelivr.net/npm//vega-lite@4.8.1?noext&quot;,
      &quot;vega-embed&quot;: &quot;https://cdn.jsdelivr.net/npm//vega-embed@6?noext&quot;,
    };

    function loadScript(lib) {
      return new Promise(function(resolve, reject) {
        var s = document.createElement('script');
        s.src = paths[lib];
        s.async = true;
        s.onload = () =&gt; resolve(paths[lib]);
        s.onerror = () =&gt; reject(`Error loading script: ${paths[lib]}`);
        document.getElementsByTagName(&quot;head&quot;)[0].appendChild(s);
      });
    }

    function showError(err) {
      outputDiv.innerHTML = `&lt;div class=&quot;error&quot; style=&quot;color:red;&quot;&gt;${err}&lt;/div&gt;`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err =&gt; showError(`Javascript Error: ${err.message}&lt;br&gt;This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === &quot;function&quot; &amp;&amp; define.amd) {
      requirejs.config({paths});
      require([&quot;vega-embed&quot;], displayChart, err =&gt; showError(`Error loading script: ${err.message}`));
    } else if (typeof vegaEmbed === &quot;function&quot;) {
      displayChart(vegaEmbed);
    } else {
      loadScript(&quot;vega&quot;)
        .then(() =&gt; loadScript(&quot;vega-lite&quot;))
        .then(() =&gt; loadScript(&quot;vega-embed&quot;))
        .catch(showError)
        .then(() =&gt; displayChart(vegaEmbed));
    }
  })({&quot;config&quot;: {&quot;view&quot;: {&quot;continuousWidth&quot;: 400, &quot;continuousHeight&quot;: 300, &quot;strokeWidth&quot;: 0}, &quot;axis&quot;: {&quot;grid&quot;: false, &quot;title&quot;: null}}, &quot;layer&quot;: [{&quot;mark&quot;: {&quot;type&quot;: &quot;bar&quot;, &quot;color&quot;: &quot;red&quot;, &quot;opacity&quot;: 0.2, &quot;size&quot;: 7}, &quot;encoding&quot;: {&quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, &quot;y&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;new_cases&quot;}}}, {&quot;mark&quot;: {&quot;type&quot;: &quot;area&quot;, &quot;fill&quot;: &quot;red&quot;, &quot;fillOpacity&quot;: 0.15}, &quot;encoding&quot;: {&quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, &quot;y&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;rolling_average&quot;}}, &quot;transform&quot;: [{&quot;window&quot;: [{&quot;op&quot;: &quot;mean&quot;, &quot;field&quot;: &quot;new_cases&quot;, &quot;as&quot;: &quot;rolling_average&quot;}], &quot;frame&quot;: [-6, 0]}]}, {&quot;mark&quot;: {&quot;type&quot;: &quot;line&quot;, &quot;color&quot;: &quot;#c11111&quot;, &quot;opacity&quot;: 0.9, &quot;strokeWidth&quot;: 5}, &quot;encoding&quot;: {&quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, &quot;y&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;rolling_average&quot;}}, &quot;transform&quot;: [{&quot;window&quot;: [{&quot;op&quot;: &quot;mean&quot;, &quot;field&quot;: &quot;new_cases&quot;, &quot;as&quot;: &quot;rolling_average&quot;}], &quot;frame&quot;: [-6, 0]}]}], &quot;data&quot;: {&quot;name&quot;: &quot;data-f4a269eeafd10c48db075c03af06c722&quot;}, &quot;width&quot;: 1000, &quot;$schema&quot;: &quot;https://vega.github.io/schema/vega-lite/v4.8.1.json&quot;, &quot;datasets&quot;: {&quot;data-f4a269eeafd10c48db075c03af06c722&quot;: [{&quot;date&quot;: &quot;2020-01-21&quot;, &quot;cases&quot;: 1, &quot;deaths&quot;: 0, &quot;new_cases&quot;: null}, {&quot;date&quot;: &quot;2020-01-22&quot;, &quot;cases&quot;: 1, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-01-23&quot;, &quot;cases&quot;: 1, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-01-24&quot;, &quot;cases&quot;: 2, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 1.0}, {&quot;date&quot;: &quot;2020-01-25&quot;, &quot;cases&quot;: 3, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 1.0}, {&quot;date&quot;: &quot;2020-01-26&quot;, &quot;cases&quot;: 5, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 2.0}, {&quot;date&quot;: &quot;2020-01-27&quot;, &quot;cases&quot;: 5, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-01-28&quot;, &quot;cases&quot;: 5, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-01-29&quot;, &quot;cases&quot;: 5, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-01-30&quot;, &quot;cases&quot;: 6, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 1.0}, {&quot;date&quot;: &quot;2020-01-31&quot;, &quot;cases&quot;: 7, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 1.0}, {&quot;date&quot;: &quot;2020-02-01&quot;, &quot;cases&quot;: 8, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 1.0}, {&quot;date&quot;: &quot;2020-02-02&quot;, &quot;cases&quot;: 11, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 3.0}, {&quot;date&quot;: &quot;2020-02-03&quot;, &quot;cases&quot;: 11, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-02-04&quot;, &quot;cases&quot;: 11, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-02-05&quot;, &quot;cases&quot;: 12, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 1.0}, {&quot;date&quot;: &quot;2020-02-06&quot;, &quot;cases&quot;: 12, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-02-07&quot;, &quot;cases&quot;: 12, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-02-08&quot;, &quot;cases&quot;: 12, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-02-09&quot;, &quot;cases&quot;: 12, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-02-10&quot;, &quot;cases&quot;: 13, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 1.0}, {&quot;date&quot;: &quot;2020-02-11&quot;, &quot;cases&quot;: 13, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-02-12&quot;, &quot;cases&quot;: 14, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 1.0}, {&quot;date&quot;: &quot;2020-02-13&quot;, &quot;cases&quot;: 15, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 1.0}, {&quot;date&quot;: &quot;2020-02-14&quot;, &quot;cases&quot;: 15, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-02-15&quot;, &quot;cases&quot;: 15, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-02-16&quot;, &quot;cases&quot;: 15, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-02-17&quot;, &quot;cases&quot;: 25, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 10.0}, {&quot;date&quot;: &quot;2020-02-18&quot;, &quot;cases&quot;: 25, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-02-19&quot;, &quot;cases&quot;: 25, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-02-20&quot;, &quot;cases&quot;: 27, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 2.0}, {&quot;date&quot;: &quot;2020-02-21&quot;, &quot;cases&quot;: 30, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 3.0}, {&quot;date&quot;: &quot;2020-02-22&quot;, &quot;cases&quot;: 30, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-02-23&quot;, &quot;cases&quot;: 30, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-02-24&quot;, &quot;cases&quot;: 43, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 13.0}, {&quot;date&quot;: &quot;2020-02-25&quot;, &quot;cases&quot;: 45, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 2.0}, {&quot;date&quot;: &quot;2020-02-26&quot;, &quot;cases&quot;: 60, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 15.0}, {&quot;date&quot;: &quot;2020-02-27&quot;, &quot;cases&quot;: 60, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-02-28&quot;, &quot;cases&quot;: 65, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 5.0}, {&quot;date&quot;: &quot;2020-02-29&quot;, &quot;cases&quot;: 70, &quot;deaths&quot;: 1, &quot;new_cases&quot;: 5.0}, {&quot;date&quot;: &quot;2020-03-01&quot;, &quot;cases&quot;: 88, &quot;deaths&quot;: 3, &quot;new_cases&quot;: 18.0}, {&quot;date&quot;: &quot;2020-03-02&quot;, &quot;cases&quot;: 104, &quot;deaths&quot;: 6, &quot;new_cases&quot;: 16.0}, {&quot;date&quot;: &quot;2020-03-03&quot;, &quot;cases&quot;: 125, &quot;deaths&quot;: 10, &quot;new_cases&quot;: 21.0}, {&quot;date&quot;: &quot;2020-03-04&quot;, &quot;cases&quot;: 161, &quot;deaths&quot;: 12, &quot;new_cases&quot;: 36.0}, {&quot;date&quot;: &quot;2020-03-05&quot;, &quot;cases&quot;: 228, &quot;deaths&quot;: 12, &quot;new_cases&quot;: 67.0}, {&quot;date&quot;: &quot;2020-03-06&quot;, &quot;cases&quot;: 311, &quot;deaths&quot;: 15, &quot;new_cases&quot;: 83.0}, {&quot;date&quot;: &quot;2020-03-07&quot;, &quot;cases&quot;: 428, &quot;deaths&quot;: 19, &quot;new_cases&quot;: 117.0}, {&quot;date&quot;: &quot;2020-03-08&quot;, &quot;cases&quot;: 547, &quot;deaths&quot;: 22, &quot;new_cases&quot;: 119.0}, {&quot;date&quot;: &quot;2020-03-09&quot;, &quot;cases&quot;: 748, &quot;deaths&quot;: 26, &quot;new_cases&quot;: 201.0}, {&quot;date&quot;: &quot;2020-03-10&quot;, &quot;cases&quot;: 1018, &quot;deaths&quot;: 31, &quot;new_cases&quot;: 270.0}, {&quot;date&quot;: &quot;2020-03-11&quot;, &quot;cases&quot;: 1263, &quot;deaths&quot;: 37, &quot;new_cases&quot;: 245.0}, {&quot;date&quot;: &quot;2020-03-12&quot;, &quot;cases&quot;: 1668, &quot;deaths&quot;: 43, &quot;new_cases&quot;: 405.0}, {&quot;date&quot;: &quot;2020-03-13&quot;, &quot;cases&quot;: 2224, &quot;deaths&quot;: 50, &quot;new_cases&quot;: 556.0}, {&quot;date&quot;: &quot;2020-03-14&quot;, &quot;cases&quot;: 2898, &quot;deaths&quot;: 60, &quot;new_cases&quot;: 674.0}, {&quot;date&quot;: &quot;2020-03-15&quot;, &quot;cases&quot;: 3600, &quot;deaths&quot;: 68, &quot;new_cases&quot;: 702.0}, {&quot;date&quot;: &quot;2020-03-16&quot;, &quot;cases&quot;: 4507, &quot;deaths&quot;: 91, &quot;new_cases&quot;: 907.0}, {&quot;date&quot;: &quot;2020-03-17&quot;, &quot;cases&quot;: 5906, &quot;deaths&quot;: 117, &quot;new_cases&quot;: 1399.0}, {&quot;date&quot;: &quot;2020-03-18&quot;, &quot;cases&quot;: 8350, &quot;deaths&quot;: 162, &quot;new_cases&quot;: 2444.0}, {&quot;date&quot;: &quot;2020-03-19&quot;, &quot;cases&quot;: 12393, &quot;deaths&quot;: 212, &quot;new_cases&quot;: 4043.0}, {&quot;date&quot;: &quot;2020-03-20&quot;, &quot;cases&quot;: 18001, &quot;deaths&quot;: 275, &quot;new_cases&quot;: 5608.0}, {&quot;date&quot;: &quot;2020-03-21&quot;, &quot;cases&quot;: 24526, &quot;deaths&quot;: 358, &quot;new_cases&quot;: 6525.0}, {&quot;date&quot;: &quot;2020-03-22&quot;, &quot;cases&quot;: 33063, &quot;deaths&quot;: 455, &quot;new_cases&quot;: 8537.0}, {&quot;date&quot;: &quot;2020-03-23&quot;, &quot;cases&quot;: 43500, &quot;deaths&quot;: 574, &quot;new_cases&quot;: 10437.0}, {&quot;date&quot;: &quot;2020-03-24&quot;, &quot;cases&quot;: 53924, &quot;deaths&quot;: 769, &quot;new_cases&quot;: 10424.0}, {&quot;date&quot;: &quot;2020-03-25&quot;, &quot;cases&quot;: 68530, &quot;deaths&quot;: 1039, &quot;new_cases&quot;: 14606.0}, {&quot;date&quot;: &quot;2020-03-26&quot;, &quot;cases&quot;: 85558, &quot;deaths&quot;: 1345, &quot;new_cases&quot;: 17028.0}, {&quot;date&quot;: &quot;2020-03-27&quot;, &quot;cases&quot;: 102829, &quot;deaths&quot;: 1758, &quot;new_cases&quot;: 17271.0}, {&quot;date&quot;: &quot;2020-03-28&quot;, &quot;cases&quot;: 123723, &quot;deaths&quot;: 2287, &quot;new_cases&quot;: 20894.0}, {&quot;date&quot;: &quot;2020-03-29&quot;, &quot;cases&quot;: 142397, &quot;deaths&quot;: 2702, &quot;new_cases&quot;: 18674.0}, {&quot;date&quot;: &quot;2020-03-30&quot;, &quot;cases&quot;: 163863, &quot;deaths&quot;: 3356, &quot;new_cases&quot;: 21466.0}, {&quot;date&quot;: &quot;2020-03-31&quot;, &quot;cases&quot;: 188413, &quot;deaths&quot;: 4290, &quot;new_cases&quot;: 24550.0}, {&quot;date&quot;: &quot;2020-04-01&quot;, &quot;cases&quot;: 215161, &quot;deaths&quot;: 5315, &quot;new_cases&quot;: 26748.0}, {&quot;date&quot;: &quot;2020-04-02&quot;, &quot;cases&quot;: 244619, &quot;deaths&quot;: 6542, &quot;new_cases&quot;: 29458.0}, {&quot;date&quot;: &quot;2020-04-03&quot;, &quot;cases&quot;: 277262, &quot;deaths&quot;: 7902, &quot;new_cases&quot;: 32643.0}, {&quot;date&quot;: &quot;2020-04-04&quot;, &quot;cases&quot;: 312498, &quot;deaths&quot;: 9466, &quot;new_cases&quot;: 35236.0}, {&quot;date&quot;: &quot;2020-04-05&quot;, &quot;cases&quot;: 337959, &quot;deaths&quot;: 10828, &quot;new_cases&quot;: 25461.0}, {&quot;date&quot;: &quot;2020-04-06&quot;, &quot;cases&quot;: 367568, &quot;deaths&quot;: 12330, &quot;new_cases&quot;: 29609.0}, {&quot;date&quot;: &quot;2020-04-07&quot;, &quot;cases&quot;: 399352, &quot;deaths&quot;: 14579, &quot;new_cases&quot;: 31784.0}, {&quot;date&quot;: &quot;2020-04-08&quot;, &quot;cases&quot;: 431169, &quot;deaths&quot;: 16673, &quot;new_cases&quot;: 31817.0}, {&quot;date&quot;: &quot;2020-04-09&quot;, &quot;cases&quot;: 465859, &quot;deaths&quot;: 18772, &quot;new_cases&quot;: 34690.0}, {&quot;date&quot;: &quot;2020-04-10&quot;, &quot;cases&quot;: 499325, &quot;deaths&quot;: 21028, &quot;new_cases&quot;: 33466.0}, {&quot;date&quot;: &quot;2020-04-11&quot;, &quot;cases&quot;: 531042, &quot;deaths&quot;: 23105, &quot;new_cases&quot;: 31717.0}, {&quot;date&quot;: &quot;2020-04-12&quot;, &quot;cases&quot;: 558182, &quot;deaths&quot;: 24785, &quot;new_cases&quot;: 27140.0}, {&quot;date&quot;: &quot;2020-04-13&quot;, &quot;cases&quot;: 583940, &quot;deaths&quot;: 26547, &quot;new_cases&quot;: 25758.0}, {&quot;date&quot;: &quot;2020-04-14&quot;, &quot;cases&quot;: 610615, &quot;deaths&quot;: 29246, &quot;new_cases&quot;: 26675.0}, {&quot;date&quot;: &quot;2020-04-15&quot;, &quot;cases&quot;: 640637, &quot;deaths&quot;: 31994, &quot;new_cases&quot;: 30022.0}, {&quot;date&quot;: &quot;2020-04-16&quot;, &quot;cases&quot;: 672243, &quot;deaths&quot;: 34264, &quot;new_cases&quot;: 31606.0}, {&quot;date&quot;: &quot;2020-04-17&quot;, &quot;cases&quot;: 703740, &quot;deaths&quot;: 36626, &quot;new_cases&quot;: 31497.0}, {&quot;date&quot;: &quot;2020-04-18&quot;, &quot;cases&quot;: 732121, &quot;deaths&quot;: 38571, &quot;new_cases&quot;: 28381.0}, {&quot;date&quot;: &quot;2020-04-19&quot;, &quot;cases&quot;: 757475, &quot;deaths&quot;: 40089, &quot;new_cases&quot;: 25354.0}, {&quot;date&quot;: &quot;2020-04-20&quot;, &quot;cases&quot;: 784761, &quot;deaths&quot;: 41919, &quot;new_cases&quot;: 27286.0}, {&quot;date&quot;: &quot;2020-04-21&quot;, &quot;cases&quot;: 810249, &quot;deaths&quot;: 44587, &quot;new_cases&quot;: 25488.0}, {&quot;date&quot;: &quot;2020-04-22&quot;, &quot;cases&quot;: 839017, &quot;deaths&quot;: 46955, &quot;new_cases&quot;: 28768.0}, {&quot;date&quot;: &quot;2020-04-23&quot;, &quot;cases&quot;: 872805, &quot;deaths&quot;: 49123, &quot;new_cases&quot;: 33788.0}, {&quot;date&quot;: &quot;2020-04-24&quot;, &quot;cases&quot;: 909530, &quot;deaths&quot;: 51250, &quot;new_cases&quot;: 36725.0}, {&quot;date&quot;: &quot;2020-04-25&quot;, &quot;cases&quot;: 943802, &quot;deaths&quot;: 53210, &quot;new_cases&quot;: 34272.0}, {&quot;date&quot;: &quot;2020-04-26&quot;, &quot;cases&quot;: 970409, &quot;deaths&quot;: 54465, &quot;new_cases&quot;: 26607.0}, {&quot;date&quot;: &quot;2020-04-27&quot;, &quot;cases&quot;: 993747, &quot;deaths&quot;: 56022, &quot;new_cases&quot;: 23338.0}, {&quot;date&quot;: &quot;2020-04-28&quot;, &quot;cases&quot;: 1018399, &quot;deaths&quot;: 58416, &quot;new_cases&quot;: 24652.0}, {&quot;date&quot;: &quot;2020-04-29&quot;, &quot;cases&quot;: 1045102, &quot;deaths&quot;: 60930, &quot;new_cases&quot;: 26703.0}, {&quot;date&quot;: &quot;2020-04-30&quot;, &quot;cases&quot;: 1075517, &quot;deaths&quot;: 63140, &quot;new_cases&quot;: 30415.0}, {&quot;date&quot;: &quot;2020-05-01&quot;, &quot;cases&quot;: 1109476, &quot;deaths&quot;: 64902, &quot;new_cases&quot;: 33959.0}, {&quot;date&quot;: &quot;2020-05-02&quot;, &quot;cases&quot;: 1138944, &quot;deaths&quot;: 66485, &quot;new_cases&quot;: 29468.0}, {&quot;date&quot;: &quot;2020-05-03&quot;, &quot;cases&quot;: 1165013, &quot;deaths&quot;: 67816, &quot;new_cases&quot;: 26069.0}, {&quot;date&quot;: &quot;2020-05-04&quot;, &quot;cases&quot;: 1186965, &quot;deaths&quot;: 68905, &quot;new_cases&quot;: 21952.0}, {&quot;date&quot;: &quot;2020-05-05&quot;, &quot;cases&quot;: 1210669, &quot;deaths&quot;: 71139, &quot;new_cases&quot;: 23704.0}, {&quot;date&quot;: &quot;2020-05-06&quot;, &quot;cases&quot;: 1235174, &quot;deaths&quot;: 73847, &quot;new_cases&quot;: 24505.0}, {&quot;date&quot;: &quot;2020-05-07&quot;, &quot;cases&quot;: 1263668, &quot;deaths&quot;: 75805, &quot;new_cases&quot;: 28494.0}, {&quot;date&quot;: &quot;2020-05-08&quot;, &quot;cases&quot;: 1291329, &quot;deaths&quot;: 77380, &quot;new_cases&quot;: 27661.0}, {&quot;date&quot;: &quot;2020-05-09&quot;, &quot;cases&quot;: 1316167, &quot;deaths&quot;: 78834, &quot;new_cases&quot;: 24838.0}, {&quot;date&quot;: &quot;2020-05-10&quot;, &quot;cases&quot;: 1336478, &quot;deaths&quot;: 79765, &quot;new_cases&quot;: 20311.0}, {&quot;date&quot;: &quot;2020-05-11&quot;, &quot;cases&quot;: 1354096, &quot;deaths&quot;: 80747, &quot;new_cases&quot;: 17618.0}, {&quot;date&quot;: &quot;2020-05-12&quot;, &quot;cases&quot;: 1376388, &quot;deaths&quot;: 82400, &quot;new_cases&quot;: 22292.0}, {&quot;date&quot;: &quot;2020-05-13&quot;, &quot;cases&quot;: 1397520, &quot;deaths&quot;: 84168, &quot;new_cases&quot;: 21132.0}, {&quot;date&quot;: &quot;2020-05-14&quot;, &quot;cases&quot;: 1424474, &quot;deaths&quot;: 85906, &quot;new_cases&quot;: 26954.0}, {&quot;date&quot;: &quot;2020-05-15&quot;, &quot;cases&quot;: 1450700, &quot;deaths&quot;: 87499, &quot;new_cases&quot;: 26226.0}, {&quot;date&quot;: &quot;2020-05-16&quot;, &quot;cases&quot;: 1474351, &quot;deaths&quot;: 88724, &quot;new_cases&quot;: 23651.0}, {&quot;date&quot;: &quot;2020-05-17&quot;, &quot;cases&quot;: 1493350, &quot;deaths&quot;: 89568, &quot;new_cases&quot;: 18999.0}, {&quot;date&quot;: &quot;2020-05-18&quot;, &quot;cases&quot;: 1515177, &quot;deaths&quot;: 90414, &quot;new_cases&quot;: 21827.0}, {&quot;date&quot;: &quot;2020-05-19&quot;, &quot;cases&quot;: 1536129, &quot;deaths&quot;: 91934, &quot;new_cases&quot;: 20952.0}, {&quot;date&quot;: &quot;2020-05-20&quot;, &quot;cases&quot;: 1559003, &quot;deaths&quot;: 93406, &quot;new_cases&quot;: 22874.0}, {&quot;date&quot;: &quot;2020-05-21&quot;, &quot;cases&quot;: 1584826, &quot;deaths&quot;: 94721, &quot;new_cases&quot;: 25823.0}, {&quot;date&quot;: &quot;2020-05-22&quot;, &quot;cases&quot;: 1608710, &quot;deaths&quot;: 96010, &quot;new_cases&quot;: 23884.0}, {&quot;date&quot;: &quot;2020-05-23&quot;, &quot;cases&quot;: 1630912, &quot;deaths&quot;: 97060, &quot;new_cases&quot;: 22202.0}, {&quot;date&quot;: &quot;2020-05-24&quot;, &quot;cases&quot;: 1651004, &quot;deaths&quot;: 97680, &quot;new_cases&quot;: 20092.0}, {&quot;date&quot;: &quot;2020-05-25&quot;, &quot;cases&quot;: 1670101, &quot;deaths&quot;: 98190, &quot;new_cases&quot;: 19097.0}, {&quot;date&quot;: &quot;2020-05-26&quot;, &quot;cases&quot;: 1688958, &quot;deaths&quot;: 98937, &quot;new_cases&quot;: 18857.0}, {&quot;date&quot;: &quot;2020-05-27&quot;, &quot;cases&quot;: 1707719, &quot;deaths&quot;: 100422, &quot;new_cases&quot;: 18761.0}]}}, {&quot;mode&quot;: &quot;vega-lite&quot;});
&lt;/script&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    

&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;Now that we have replicated the chart effectively, lets &lt;strong&gt;filter&lt;/strong&gt; the data so that we drop all the data before &lt;strong&gt;March&lt;/strong&gt; as the chart from NYT shows -&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;That can be done in 2 ways - using Pandas or using &lt;code&gt;transform_filter&lt;/code&gt; on &lt;code&gt;date&lt;/code&gt;. You guessed it, we will use the latter. The code relevant to this would then be -&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;transform_filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;alt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;datum&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;date&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;toDate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;2020-03-01&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
    
    
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;details class=&quot;description&quot;&gt;
      &lt;summary class=&quot;btn btn-sm&quot; data-open=&quot;Hide Code&quot; data-close=&quot;Show Code&quot;&gt;&lt;/summary&gt;
        &lt;p&gt;&lt;div class=&quot;input&quot;&gt;

&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot; highlight hl-ipython3&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#collapse&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;altair&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;alt&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;pandas&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;pd&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;https://raw.githubusercontent.com/nytimes/covid-19-data/master/us.csv&amp;quot;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;usdf&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pd&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;read_csv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#print(udf.columns)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;usdf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;new_cases&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;usdf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;cases&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;diff&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Bar Chart&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;bar&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Chart&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;usdf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mark_bar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;opacity&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;0.15&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;red&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;encode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;alt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;X&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;date:T&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;alt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;new_cases:Q&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;transform_filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;alt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;datum&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;date&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;toDate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;2020-03-01&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Area Chart&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;area&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Chart&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;usdf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mark_area&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fill&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;red&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fillOpacity&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;0.1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;transform_window&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;#stroke=&amp;#39;red&amp;#39;,  strokeWidth=2&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;rolling_average&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;mean(new_cases)&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;frame&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# NYT uses [-6,0] for their average NOT [-7,0]&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;encode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;date:T&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;rolling_average:Q&amp;#39;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;transform_filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;alt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;datum&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;date&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;toDate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;2020-03-01&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Line Chart&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;line&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;area&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mark_line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;color&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;#c11111&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;opacity&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;0.7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;strokeWidth&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;k&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;area&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;configure_axis&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;grid&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;False&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;None&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;configure_view&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;strokeWidth&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;properties&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;700&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#width=alt.Step(500)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/p&gt;
    &lt;/details&gt;
&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;

&lt;div class=&quot;output_area&quot;&gt;


&lt;div class=&quot;output_html rendered_html output_subarea output_execute_result&quot;&gt;

&lt;div id=&quot;altair-viz-0cfd46a79e74433fa6fa5062aea8d048&quot;&gt;&lt;/div&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== &quot;altair-viz-0cfd46a79e74433fa6fa5062aea8d048&quot;) {
      outputDiv = document.getElementById(&quot;altair-viz-0cfd46a79e74433fa6fa5062aea8d048&quot;);
    }
    const paths = {
      &quot;vega&quot;: &quot;https://cdn.jsdelivr.net/npm//vega@5?noext&quot;,
      &quot;vega-lib&quot;: &quot;https://cdn.jsdelivr.net/npm//vega-lib?noext&quot;,
      &quot;vega-lite&quot;: &quot;https://cdn.jsdelivr.net/npm//vega-lite@4.8.1?noext&quot;,
      &quot;vega-embed&quot;: &quot;https://cdn.jsdelivr.net/npm//vega-embed@6?noext&quot;,
    };

    function loadScript(lib) {
      return new Promise(function(resolve, reject) {
        var s = document.createElement('script');
        s.src = paths[lib];
        s.async = true;
        s.onload = () =&gt; resolve(paths[lib]);
        s.onerror = () =&gt; reject(`Error loading script: ${paths[lib]}`);
        document.getElementsByTagName(&quot;head&quot;)[0].appendChild(s);
      });
    }

    function showError(err) {
      outputDiv.innerHTML = `&lt;div class=&quot;error&quot; style=&quot;color:red;&quot;&gt;${err}&lt;/div&gt;`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err =&gt; showError(`Javascript Error: ${err.message}&lt;br&gt;This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === &quot;function&quot; &amp;&amp; define.amd) {
      requirejs.config({paths});
      require([&quot;vega-embed&quot;], displayChart, err =&gt; showError(`Error loading script: ${err.message}`));
    } else if (typeof vegaEmbed === &quot;function&quot;) {
      displayChart(vegaEmbed);
    } else {
      loadScript(&quot;vega&quot;)
        .then(() =&gt; loadScript(&quot;vega-lite&quot;))
        .then(() =&gt; loadScript(&quot;vega-embed&quot;))
        .catch(showError)
        .then(() =&gt; displayChart(vegaEmbed));
    }
  })({&quot;config&quot;: {&quot;view&quot;: {&quot;continuousWidth&quot;: 400, &quot;continuousHeight&quot;: 300, &quot;strokeWidth&quot;: 0}, &quot;axis&quot;: {&quot;grid&quot;: false, &quot;title&quot;: null}}, &quot;layer&quot;: [{&quot;mark&quot;: {&quot;type&quot;: &quot;bar&quot;, &quot;color&quot;: &quot;red&quot;, &quot;opacity&quot;: 0.15, &quot;size&quot;: 7}, &quot;encoding&quot;: {&quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, &quot;y&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;new_cases&quot;}}, &quot;transform&quot;: [{&quot;filter&quot;: &quot;(datum.date &gt; toDate('2020-03-01'))&quot;}]}, {&quot;mark&quot;: {&quot;type&quot;: &quot;area&quot;, &quot;fill&quot;: &quot;red&quot;, &quot;fillOpacity&quot;: 0.1}, &quot;encoding&quot;: {&quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, &quot;y&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;rolling_average&quot;}}, &quot;transform&quot;: [{&quot;window&quot;: [{&quot;op&quot;: &quot;mean&quot;, &quot;field&quot;: &quot;new_cases&quot;, &quot;as&quot;: &quot;rolling_average&quot;}], &quot;frame&quot;: [-6, 0]}, {&quot;filter&quot;: &quot;(datum.date &gt; toDate('2020-03-01'))&quot;}]}, {&quot;mark&quot;: {&quot;type&quot;: &quot;line&quot;, &quot;color&quot;: &quot;#c11111&quot;, &quot;opacity&quot;: 0.7, &quot;strokeWidth&quot;: 5}, &quot;encoding&quot;: {&quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, &quot;y&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;rolling_average&quot;}}, &quot;transform&quot;: [{&quot;window&quot;: [{&quot;op&quot;: &quot;mean&quot;, &quot;field&quot;: &quot;new_cases&quot;, &quot;as&quot;: &quot;rolling_average&quot;}], &quot;frame&quot;: [-6, 0]}, {&quot;filter&quot;: &quot;(datum.date &gt; toDate('2020-03-01'))&quot;}]}], &quot;data&quot;: {&quot;name&quot;: &quot;data-f4a269eeafd10c48db075c03af06c722&quot;}, &quot;width&quot;: 700, &quot;$schema&quot;: &quot;https://vega.github.io/schema/vega-lite/v4.8.1.json&quot;, &quot;datasets&quot;: {&quot;data-f4a269eeafd10c48db075c03af06c722&quot;: [{&quot;date&quot;: &quot;2020-01-21&quot;, &quot;cases&quot;: 1, &quot;deaths&quot;: 0, &quot;new_cases&quot;: null}, {&quot;date&quot;: &quot;2020-01-22&quot;, &quot;cases&quot;: 1, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-01-23&quot;, &quot;cases&quot;: 1, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-01-24&quot;, &quot;cases&quot;: 2, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 1.0}, {&quot;date&quot;: &quot;2020-01-25&quot;, &quot;cases&quot;: 3, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 1.0}, {&quot;date&quot;: &quot;2020-01-26&quot;, &quot;cases&quot;: 5, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 2.0}, {&quot;date&quot;: &quot;2020-01-27&quot;, &quot;cases&quot;: 5, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-01-28&quot;, &quot;cases&quot;: 5, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-01-29&quot;, &quot;cases&quot;: 5, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-01-30&quot;, &quot;cases&quot;: 6, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 1.0}, {&quot;date&quot;: &quot;2020-01-31&quot;, &quot;cases&quot;: 7, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 1.0}, {&quot;date&quot;: &quot;2020-02-01&quot;, &quot;cases&quot;: 8, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 1.0}, {&quot;date&quot;: &quot;2020-02-02&quot;, &quot;cases&quot;: 11, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 3.0}, {&quot;date&quot;: &quot;2020-02-03&quot;, &quot;cases&quot;: 11, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-02-04&quot;, &quot;cases&quot;: 11, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-02-05&quot;, &quot;cases&quot;: 12, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 1.0}, {&quot;date&quot;: &quot;2020-02-06&quot;, &quot;cases&quot;: 12, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-02-07&quot;, &quot;cases&quot;: 12, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-02-08&quot;, &quot;cases&quot;: 12, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-02-09&quot;, &quot;cases&quot;: 12, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-02-10&quot;, &quot;cases&quot;: 13, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 1.0}, {&quot;date&quot;: &quot;2020-02-11&quot;, &quot;cases&quot;: 13, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-02-12&quot;, &quot;cases&quot;: 14, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 1.0}, {&quot;date&quot;: &quot;2020-02-13&quot;, &quot;cases&quot;: 15, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 1.0}, {&quot;date&quot;: &quot;2020-02-14&quot;, &quot;cases&quot;: 15, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-02-15&quot;, &quot;cases&quot;: 15, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-02-16&quot;, &quot;cases&quot;: 15, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-02-17&quot;, &quot;cases&quot;: 25, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 10.0}, {&quot;date&quot;: &quot;2020-02-18&quot;, &quot;cases&quot;: 25, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-02-19&quot;, &quot;cases&quot;: 25, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-02-20&quot;, &quot;cases&quot;: 27, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 2.0}, {&quot;date&quot;: &quot;2020-02-21&quot;, &quot;cases&quot;: 30, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 3.0}, {&quot;date&quot;: &quot;2020-02-22&quot;, &quot;cases&quot;: 30, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-02-23&quot;, &quot;cases&quot;: 30, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-02-24&quot;, &quot;cases&quot;: 43, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 13.0}, {&quot;date&quot;: &quot;2020-02-25&quot;, &quot;cases&quot;: 45, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 2.0}, {&quot;date&quot;: &quot;2020-02-26&quot;, &quot;cases&quot;: 60, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 15.0}, {&quot;date&quot;: &quot;2020-02-27&quot;, &quot;cases&quot;: 60, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-02-28&quot;, &quot;cases&quot;: 65, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 5.0}, {&quot;date&quot;: &quot;2020-02-29&quot;, &quot;cases&quot;: 70, &quot;deaths&quot;: 1, &quot;new_cases&quot;: 5.0}, {&quot;date&quot;: &quot;2020-03-01&quot;, &quot;cases&quot;: 88, &quot;deaths&quot;: 3, &quot;new_cases&quot;: 18.0}, {&quot;date&quot;: &quot;2020-03-02&quot;, &quot;cases&quot;: 104, &quot;deaths&quot;: 6, &quot;new_cases&quot;: 16.0}, {&quot;date&quot;: &quot;2020-03-03&quot;, &quot;cases&quot;: 125, &quot;deaths&quot;: 10, &quot;new_cases&quot;: 21.0}, {&quot;date&quot;: &quot;2020-03-04&quot;, &quot;cases&quot;: 161, &quot;deaths&quot;: 12, &quot;new_cases&quot;: 36.0}, {&quot;date&quot;: &quot;2020-03-05&quot;, &quot;cases&quot;: 228, &quot;deaths&quot;: 12, &quot;new_cases&quot;: 67.0}, {&quot;date&quot;: &quot;2020-03-06&quot;, &quot;cases&quot;: 311, &quot;deaths&quot;: 15, &quot;new_cases&quot;: 83.0}, {&quot;date&quot;: &quot;2020-03-07&quot;, &quot;cases&quot;: 428, &quot;deaths&quot;: 19, &quot;new_cases&quot;: 117.0}, {&quot;date&quot;: &quot;2020-03-08&quot;, &quot;cases&quot;: 547, &quot;deaths&quot;: 22, &quot;new_cases&quot;: 119.0}, {&quot;date&quot;: &quot;2020-03-09&quot;, &quot;cases&quot;: 748, &quot;deaths&quot;: 26, &quot;new_cases&quot;: 201.0}, {&quot;date&quot;: &quot;2020-03-10&quot;, &quot;cases&quot;: 1018, &quot;deaths&quot;: 31, &quot;new_cases&quot;: 270.0}, {&quot;date&quot;: &quot;2020-03-11&quot;, &quot;cases&quot;: 1263, &quot;deaths&quot;: 37, &quot;new_cases&quot;: 245.0}, {&quot;date&quot;: &quot;2020-03-12&quot;, &quot;cases&quot;: 1668, &quot;deaths&quot;: 43, &quot;new_cases&quot;: 405.0}, {&quot;date&quot;: &quot;2020-03-13&quot;, &quot;cases&quot;: 2224, &quot;deaths&quot;: 50, &quot;new_cases&quot;: 556.0}, {&quot;date&quot;: &quot;2020-03-14&quot;, &quot;cases&quot;: 2898, &quot;deaths&quot;: 60, &quot;new_cases&quot;: 674.0}, {&quot;date&quot;: &quot;2020-03-15&quot;, &quot;cases&quot;: 3600, &quot;deaths&quot;: 68, &quot;new_cases&quot;: 702.0}, {&quot;date&quot;: &quot;2020-03-16&quot;, &quot;cases&quot;: 4507, &quot;deaths&quot;: 91, &quot;new_cases&quot;: 907.0}, {&quot;date&quot;: &quot;2020-03-17&quot;, &quot;cases&quot;: 5906, &quot;deaths&quot;: 117, &quot;new_cases&quot;: 1399.0}, {&quot;date&quot;: &quot;2020-03-18&quot;, &quot;cases&quot;: 8350, &quot;deaths&quot;: 162, &quot;new_cases&quot;: 2444.0}, {&quot;date&quot;: &quot;2020-03-19&quot;, &quot;cases&quot;: 12393, &quot;deaths&quot;: 212, &quot;new_cases&quot;: 4043.0}, {&quot;date&quot;: &quot;2020-03-20&quot;, &quot;cases&quot;: 18001, &quot;deaths&quot;: 275, &quot;new_cases&quot;: 5608.0}, {&quot;date&quot;: &quot;2020-03-21&quot;, &quot;cases&quot;: 24526, &quot;deaths&quot;: 358, &quot;new_cases&quot;: 6525.0}, {&quot;date&quot;: &quot;2020-03-22&quot;, &quot;cases&quot;: 33063, &quot;deaths&quot;: 455, &quot;new_cases&quot;: 8537.0}, {&quot;date&quot;: &quot;2020-03-23&quot;, &quot;cases&quot;: 43500, &quot;deaths&quot;: 574, &quot;new_cases&quot;: 10437.0}, {&quot;date&quot;: &quot;2020-03-24&quot;, &quot;cases&quot;: 53924, &quot;deaths&quot;: 769, &quot;new_cases&quot;: 10424.0}, {&quot;date&quot;: &quot;2020-03-25&quot;, &quot;cases&quot;: 68530, &quot;deaths&quot;: 1039, &quot;new_cases&quot;: 14606.0}, {&quot;date&quot;: &quot;2020-03-26&quot;, &quot;cases&quot;: 85558, &quot;deaths&quot;: 1345, &quot;new_cases&quot;: 17028.0}, {&quot;date&quot;: &quot;2020-03-27&quot;, &quot;cases&quot;: 102829, &quot;deaths&quot;: 1758, &quot;new_cases&quot;: 17271.0}, {&quot;date&quot;: &quot;2020-03-28&quot;, &quot;cases&quot;: 123723, &quot;deaths&quot;: 2287, &quot;new_cases&quot;: 20894.0}, {&quot;date&quot;: &quot;2020-03-29&quot;, &quot;cases&quot;: 142397, &quot;deaths&quot;: 2702, &quot;new_cases&quot;: 18674.0}, {&quot;date&quot;: &quot;2020-03-30&quot;, &quot;cases&quot;: 163863, &quot;deaths&quot;: 3356, &quot;new_cases&quot;: 21466.0}, {&quot;date&quot;: &quot;2020-03-31&quot;, &quot;cases&quot;: 188413, &quot;deaths&quot;: 4290, &quot;new_cases&quot;: 24550.0}, {&quot;date&quot;: &quot;2020-04-01&quot;, &quot;cases&quot;: 215161, &quot;deaths&quot;: 5315, &quot;new_cases&quot;: 26748.0}, {&quot;date&quot;: &quot;2020-04-02&quot;, &quot;cases&quot;: 244619, &quot;deaths&quot;: 6542, &quot;new_cases&quot;: 29458.0}, {&quot;date&quot;: &quot;2020-04-03&quot;, &quot;cases&quot;: 277262, &quot;deaths&quot;: 7902, &quot;new_cases&quot;: 32643.0}, {&quot;date&quot;: &quot;2020-04-04&quot;, &quot;cases&quot;: 312498, &quot;deaths&quot;: 9466, &quot;new_cases&quot;: 35236.0}, {&quot;date&quot;: &quot;2020-04-05&quot;, &quot;cases&quot;: 337959, &quot;deaths&quot;: 10828, &quot;new_cases&quot;: 25461.0}, {&quot;date&quot;: &quot;2020-04-06&quot;, &quot;cases&quot;: 367568, &quot;deaths&quot;: 12330, &quot;new_cases&quot;: 29609.0}, {&quot;date&quot;: &quot;2020-04-07&quot;, &quot;cases&quot;: 399352, &quot;deaths&quot;: 14579, &quot;new_cases&quot;: 31784.0}, {&quot;date&quot;: &quot;2020-04-08&quot;, &quot;cases&quot;: 431169, &quot;deaths&quot;: 16673, &quot;new_cases&quot;: 31817.0}, {&quot;date&quot;: &quot;2020-04-09&quot;, &quot;cases&quot;: 465859, &quot;deaths&quot;: 18772, &quot;new_cases&quot;: 34690.0}, {&quot;date&quot;: &quot;2020-04-10&quot;, &quot;cases&quot;: 499325, &quot;deaths&quot;: 21028, &quot;new_cases&quot;: 33466.0}, {&quot;date&quot;: &quot;2020-04-11&quot;, &quot;cases&quot;: 531042, &quot;deaths&quot;: 23105, &quot;new_cases&quot;: 31717.0}, {&quot;date&quot;: &quot;2020-04-12&quot;, &quot;cases&quot;: 558182, &quot;deaths&quot;: 24785, &quot;new_cases&quot;: 27140.0}, {&quot;date&quot;: &quot;2020-04-13&quot;, &quot;cases&quot;: 583940, &quot;deaths&quot;: 26547, &quot;new_cases&quot;: 25758.0}, {&quot;date&quot;: &quot;2020-04-14&quot;, &quot;cases&quot;: 610615, &quot;deaths&quot;: 29246, &quot;new_cases&quot;: 26675.0}, {&quot;date&quot;: &quot;2020-04-15&quot;, &quot;cases&quot;: 640637, &quot;deaths&quot;: 31994, &quot;new_cases&quot;: 30022.0}, {&quot;date&quot;: &quot;2020-04-16&quot;, &quot;cases&quot;: 672243, &quot;deaths&quot;: 34264, &quot;new_cases&quot;: 31606.0}, {&quot;date&quot;: &quot;2020-04-17&quot;, &quot;cases&quot;: 703740, &quot;deaths&quot;: 36626, &quot;new_cases&quot;: 31497.0}, {&quot;date&quot;: &quot;2020-04-18&quot;, &quot;cases&quot;: 732121, &quot;deaths&quot;: 38571, &quot;new_cases&quot;: 28381.0}, {&quot;date&quot;: &quot;2020-04-19&quot;, &quot;cases&quot;: 757475, &quot;deaths&quot;: 40089, &quot;new_cases&quot;: 25354.0}, {&quot;date&quot;: &quot;2020-04-20&quot;, &quot;cases&quot;: 784761, &quot;deaths&quot;: 41919, &quot;new_cases&quot;: 27286.0}, {&quot;date&quot;: &quot;2020-04-21&quot;, &quot;cases&quot;: 810249, &quot;deaths&quot;: 44587, &quot;new_cases&quot;: 25488.0}, {&quot;date&quot;: &quot;2020-04-22&quot;, &quot;cases&quot;: 839017, &quot;deaths&quot;: 46955, &quot;new_cases&quot;: 28768.0}, {&quot;date&quot;: &quot;2020-04-23&quot;, &quot;cases&quot;: 872805, &quot;deaths&quot;: 49123, &quot;new_cases&quot;: 33788.0}, {&quot;date&quot;: &quot;2020-04-24&quot;, &quot;cases&quot;: 909530, &quot;deaths&quot;: 51250, &quot;new_cases&quot;: 36725.0}, {&quot;date&quot;: &quot;2020-04-25&quot;, &quot;cases&quot;: 943802, &quot;deaths&quot;: 53210, &quot;new_cases&quot;: 34272.0}, {&quot;date&quot;: &quot;2020-04-26&quot;, &quot;cases&quot;: 970409, &quot;deaths&quot;: 54465, &quot;new_cases&quot;: 26607.0}, {&quot;date&quot;: &quot;2020-04-27&quot;, &quot;cases&quot;: 993747, &quot;deaths&quot;: 56022, &quot;new_cases&quot;: 23338.0}, {&quot;date&quot;: &quot;2020-04-28&quot;, &quot;cases&quot;: 1018399, &quot;deaths&quot;: 58416, &quot;new_cases&quot;: 24652.0}, {&quot;date&quot;: &quot;2020-04-29&quot;, &quot;cases&quot;: 1045102, &quot;deaths&quot;: 60930, &quot;new_cases&quot;: 26703.0}, {&quot;date&quot;: &quot;2020-04-30&quot;, &quot;cases&quot;: 1075517, &quot;deaths&quot;: 63140, &quot;new_cases&quot;: 30415.0}, {&quot;date&quot;: &quot;2020-05-01&quot;, &quot;cases&quot;: 1109476, &quot;deaths&quot;: 64902, &quot;new_cases&quot;: 33959.0}, {&quot;date&quot;: &quot;2020-05-02&quot;, &quot;cases&quot;: 1138944, &quot;deaths&quot;: 66485, &quot;new_cases&quot;: 29468.0}, {&quot;date&quot;: &quot;2020-05-03&quot;, &quot;cases&quot;: 1165013, &quot;deaths&quot;: 67816, &quot;new_cases&quot;: 26069.0}, {&quot;date&quot;: &quot;2020-05-04&quot;, &quot;cases&quot;: 1186965, &quot;deaths&quot;: 68905, &quot;new_cases&quot;: 21952.0}, {&quot;date&quot;: &quot;2020-05-05&quot;, &quot;cases&quot;: 1210669, &quot;deaths&quot;: 71139, &quot;new_cases&quot;: 23704.0}, {&quot;date&quot;: &quot;2020-05-06&quot;, &quot;cases&quot;: 1235174, &quot;deaths&quot;: 73847, &quot;new_cases&quot;: 24505.0}, {&quot;date&quot;: &quot;2020-05-07&quot;, &quot;cases&quot;: 1263668, &quot;deaths&quot;: 75805, &quot;new_cases&quot;: 28494.0}, {&quot;date&quot;: &quot;2020-05-08&quot;, &quot;cases&quot;: 1291329, &quot;deaths&quot;: 77380, &quot;new_cases&quot;: 27661.0}, {&quot;date&quot;: &quot;2020-05-09&quot;, &quot;cases&quot;: 1316167, &quot;deaths&quot;: 78834, &quot;new_cases&quot;: 24838.0}, {&quot;date&quot;: &quot;2020-05-10&quot;, &quot;cases&quot;: 1336478, &quot;deaths&quot;: 79765, &quot;new_cases&quot;: 20311.0}, {&quot;date&quot;: &quot;2020-05-11&quot;, &quot;cases&quot;: 1354096, &quot;deaths&quot;: 80747, &quot;new_cases&quot;: 17618.0}, {&quot;date&quot;: &quot;2020-05-12&quot;, &quot;cases&quot;: 1376388, &quot;deaths&quot;: 82400, &quot;new_cases&quot;: 22292.0}, {&quot;date&quot;: &quot;2020-05-13&quot;, &quot;cases&quot;: 1397520, &quot;deaths&quot;: 84168, &quot;new_cases&quot;: 21132.0}, {&quot;date&quot;: &quot;2020-05-14&quot;, &quot;cases&quot;: 1424474, &quot;deaths&quot;: 85906, &quot;new_cases&quot;: 26954.0}, {&quot;date&quot;: &quot;2020-05-15&quot;, &quot;cases&quot;: 1450700, &quot;deaths&quot;: 87499, &quot;new_cases&quot;: 26226.0}, {&quot;date&quot;: &quot;2020-05-16&quot;, &quot;cases&quot;: 1474351, &quot;deaths&quot;: 88724, &quot;new_cases&quot;: 23651.0}, {&quot;date&quot;: &quot;2020-05-17&quot;, &quot;cases&quot;: 1493350, &quot;deaths&quot;: 89568, &quot;new_cases&quot;: 18999.0}, {&quot;date&quot;: &quot;2020-05-18&quot;, &quot;cases&quot;: 1515177, &quot;deaths&quot;: 90414, &quot;new_cases&quot;: 21827.0}, {&quot;date&quot;: &quot;2020-05-19&quot;, &quot;cases&quot;: 1536129, &quot;deaths&quot;: 91934, &quot;new_cases&quot;: 20952.0}, {&quot;date&quot;: &quot;2020-05-20&quot;, &quot;cases&quot;: 1559003, &quot;deaths&quot;: 93406, &quot;new_cases&quot;: 22874.0}, {&quot;date&quot;: &quot;2020-05-21&quot;, &quot;cases&quot;: 1584826, &quot;deaths&quot;: 94721, &quot;new_cases&quot;: 25823.0}, {&quot;date&quot;: &quot;2020-05-22&quot;, &quot;cases&quot;: 1608710, &quot;deaths&quot;: 96010, &quot;new_cases&quot;: 23884.0}, {&quot;date&quot;: &quot;2020-05-23&quot;, &quot;cases&quot;: 1630912, &quot;deaths&quot;: 97060, &quot;new_cases&quot;: 22202.0}, {&quot;date&quot;: &quot;2020-05-24&quot;, &quot;cases&quot;: 1651004, &quot;deaths&quot;: 97680, &quot;new_cases&quot;: 20092.0}, {&quot;date&quot;: &quot;2020-05-25&quot;, &quot;cases&quot;: 1670101, &quot;deaths&quot;: 98190, &quot;new_cases&quot;: 19097.0}, {&quot;date&quot;: &quot;2020-05-26&quot;, &quot;cases&quot;: 1688958, &quot;deaths&quot;: 98937, &quot;new_cases&quot;: 18857.0}, {&quot;date&quot;: &quot;2020-05-27&quot;, &quot;cases&quot;: 1707719, &quot;deaths&quot;: 100422, &quot;new_cases&quot;: 18761.0}]}}, {&quot;mode&quot;: &quot;vega-lite&quot;});
&lt;/script&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    

&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;Now today or maybe a couple of days ago, NYT added interactivity to their charts. Lets do that too.&lt;br /&gt;
The main concept here is using Altair &lt;a href=&quot;&quot;&gt;Selections&lt;/a&gt;.&lt;br /&gt;
We will use &lt;code&gt;selection_single()&lt;/code&gt; on &lt;code&gt;date&lt;/code&gt; field and change the &lt;code&gt;opacity&lt;/code&gt; of the bars.
So the important code pieces are -&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;single_bar&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;selection_single&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fields&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;date&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;mouseover&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;empty&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;none&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;opacity&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;condition&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;single_bar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;0.15&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
    
    
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;details class=&quot;description&quot;&gt;
      &lt;summary class=&quot;btn btn-sm&quot; data-open=&quot;Hide Code&quot; data-close=&quot;Show Code&quot;&gt;&lt;/summary&gt;
        &lt;p&gt;&lt;div class=&quot;input&quot;&gt;

&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot; highlight hl-ipython3&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#collapse&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;altair&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;alt&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;pandas&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;pd&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;https://raw.githubusercontent.com/nytimes/covid-19-data/master/us.csv&amp;quot;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;usdf&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pd&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;read_csv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#print(udf.columns)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;usdf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;new_cases&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;usdf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;cases&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;diff&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;single_bar&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;selection_single&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fields&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;date&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;mouseover&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;empty&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;none&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Bar Chart&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;bar&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Chart&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;usdf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mark_bar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;opacity&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;0.15&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;red&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;encode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;alt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;X&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;date:T&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;alt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;new_cases:Q&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;opacity&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;condition&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;single_bar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;0.15&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;add_selection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;single_bar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;transform_filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;alt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;datum&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;date&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;toDate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;2020-03-01&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Area Chart&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;area&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Chart&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;usdf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mark_area&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fill&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;red&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fillOpacity&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;0.1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;transform_window&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;rolling_average&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;mean(new_cases)&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;frame&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# NYT uses [-6,0] for their average NOT [-7,0]&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;encode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;date:T&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;rolling_average:Q&amp;#39;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;transform_filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;alt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;datum&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;date&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;toDate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;2020-03-01&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Line Chart&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;line&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;area&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mark_line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;color&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;#c11111&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;opacity&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;0.7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;strokeWidth&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;chart&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;area&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;configure_axis&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;grid&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;False&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;None&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;configure_view&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;strokeWidth&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;properties&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;700&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;chart&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/p&gt;
    &lt;/details&gt;
&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;

&lt;div class=&quot;output_area&quot;&gt;


&lt;div class=&quot;output_html rendered_html output_subarea output_execute_result&quot;&gt;

&lt;div id=&quot;altair-viz-9c5f58827dd54c249b967ffeec8de456&quot;&gt;&lt;/div&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== &quot;altair-viz-9c5f58827dd54c249b967ffeec8de456&quot;) {
      outputDiv = document.getElementById(&quot;altair-viz-9c5f58827dd54c249b967ffeec8de456&quot;);
    }
    const paths = {
      &quot;vega&quot;: &quot;https://cdn.jsdelivr.net/npm//vega@5?noext&quot;,
      &quot;vega-lib&quot;: &quot;https://cdn.jsdelivr.net/npm//vega-lib?noext&quot;,
      &quot;vega-lite&quot;: &quot;https://cdn.jsdelivr.net/npm//vega-lite@4.8.1?noext&quot;,
      &quot;vega-embed&quot;: &quot;https://cdn.jsdelivr.net/npm//vega-embed@6?noext&quot;,
    };

    function loadScript(lib) {
      return new Promise(function(resolve, reject) {
        var s = document.createElement('script');
        s.src = paths[lib];
        s.async = true;
        s.onload = () =&gt; resolve(paths[lib]);
        s.onerror = () =&gt; reject(`Error loading script: ${paths[lib]}`);
        document.getElementsByTagName(&quot;head&quot;)[0].appendChild(s);
      });
    }

    function showError(err) {
      outputDiv.innerHTML = `&lt;div class=&quot;error&quot; style=&quot;color:red;&quot;&gt;${err}&lt;/div&gt;`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err =&gt; showError(`Javascript Error: ${err.message}&lt;br&gt;This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === &quot;function&quot; &amp;&amp; define.amd) {
      requirejs.config({paths});
      require([&quot;vega-embed&quot;], displayChart, err =&gt; showError(`Error loading script: ${err.message}`));
    } else if (typeof vegaEmbed === &quot;function&quot;) {
      displayChart(vegaEmbed);
    } else {
      loadScript(&quot;vega&quot;)
        .then(() =&gt; loadScript(&quot;vega-lite&quot;))
        .then(() =&gt; loadScript(&quot;vega-embed&quot;))
        .catch(showError)
        .then(() =&gt; displayChart(vegaEmbed));
    }
  })({&quot;config&quot;: {&quot;view&quot;: {&quot;continuousWidth&quot;: 400, &quot;continuousHeight&quot;: 300, &quot;strokeWidth&quot;: 0}, &quot;axis&quot;: {&quot;grid&quot;: false, &quot;title&quot;: null}}, &quot;layer&quot;: [{&quot;mark&quot;: {&quot;type&quot;: &quot;bar&quot;, &quot;color&quot;: &quot;red&quot;, &quot;opacity&quot;: 0.15, &quot;size&quot;: 7}, &quot;encoding&quot;: {&quot;opacity&quot;: {&quot;condition&quot;: {&quot;value&quot;: 0.5, &quot;selection&quot;: &quot;selector013&quot;}, &quot;value&quot;: 0.15}, &quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, &quot;y&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;new_cases&quot;}}, &quot;selection&quot;: {&quot;selector013&quot;: {&quot;type&quot;: &quot;single&quot;, &quot;fields&quot;: [&quot;date&quot;], &quot;on&quot;: &quot;mouseover&quot;, &quot;empty&quot;: &quot;none&quot;}}, &quot;transform&quot;: [{&quot;filter&quot;: &quot;(datum.date &gt; toDate('2020-03-01'))&quot;}]}, {&quot;mark&quot;: {&quot;type&quot;: &quot;area&quot;, &quot;fill&quot;: &quot;red&quot;, &quot;fillOpacity&quot;: 0.1}, &quot;encoding&quot;: {&quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, &quot;y&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;rolling_average&quot;}}, &quot;transform&quot;: [{&quot;window&quot;: [{&quot;op&quot;: &quot;mean&quot;, &quot;field&quot;: &quot;new_cases&quot;, &quot;as&quot;: &quot;rolling_average&quot;}], &quot;frame&quot;: [-6, 0]}, {&quot;filter&quot;: &quot;(datum.date &gt; toDate('2020-03-01'))&quot;}]}, {&quot;mark&quot;: {&quot;type&quot;: &quot;line&quot;, &quot;color&quot;: &quot;#c11111&quot;, &quot;opacity&quot;: 0.7, &quot;strokeWidth&quot;: 5}, &quot;encoding&quot;: {&quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, &quot;y&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;rolling_average&quot;}}, &quot;transform&quot;: [{&quot;window&quot;: [{&quot;op&quot;: &quot;mean&quot;, &quot;field&quot;: &quot;new_cases&quot;, &quot;as&quot;: &quot;rolling_average&quot;}], &quot;frame&quot;: [-6, 0]}, {&quot;filter&quot;: &quot;(datum.date &gt; toDate('2020-03-01'))&quot;}]}], &quot;data&quot;: {&quot;name&quot;: &quot;data-f4a269eeafd10c48db075c03af06c722&quot;}, &quot;width&quot;: 700, &quot;$schema&quot;: &quot;https://vega.github.io/schema/vega-lite/v4.8.1.json&quot;, &quot;datasets&quot;: {&quot;data-f4a269eeafd10c48db075c03af06c722&quot;: [{&quot;date&quot;: &quot;2020-01-21&quot;, &quot;cases&quot;: 1, &quot;deaths&quot;: 0, &quot;new_cases&quot;: null}, {&quot;date&quot;: &quot;2020-01-22&quot;, &quot;cases&quot;: 1, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-01-23&quot;, &quot;cases&quot;: 1, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-01-24&quot;, &quot;cases&quot;: 2, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 1.0}, {&quot;date&quot;: &quot;2020-01-25&quot;, &quot;cases&quot;: 3, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 1.0}, {&quot;date&quot;: &quot;2020-01-26&quot;, &quot;cases&quot;: 5, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 2.0}, {&quot;date&quot;: &quot;2020-01-27&quot;, &quot;cases&quot;: 5, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-01-28&quot;, &quot;cases&quot;: 5, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-01-29&quot;, &quot;cases&quot;: 5, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-01-30&quot;, &quot;cases&quot;: 6, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 1.0}, {&quot;date&quot;: &quot;2020-01-31&quot;, &quot;cases&quot;: 7, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 1.0}, {&quot;date&quot;: &quot;2020-02-01&quot;, &quot;cases&quot;: 8, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 1.0}, {&quot;date&quot;: &quot;2020-02-02&quot;, &quot;cases&quot;: 11, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 3.0}, {&quot;date&quot;: &quot;2020-02-03&quot;, &quot;cases&quot;: 11, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-02-04&quot;, &quot;cases&quot;: 11, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-02-05&quot;, &quot;cases&quot;: 12, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 1.0}, {&quot;date&quot;: &quot;2020-02-06&quot;, &quot;cases&quot;: 12, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-02-07&quot;, &quot;cases&quot;: 12, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-02-08&quot;, &quot;cases&quot;: 12, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-02-09&quot;, &quot;cases&quot;: 12, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-02-10&quot;, &quot;cases&quot;: 13, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 1.0}, {&quot;date&quot;: &quot;2020-02-11&quot;, &quot;cases&quot;: 13, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-02-12&quot;, &quot;cases&quot;: 14, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 1.0}, {&quot;date&quot;: &quot;2020-02-13&quot;, &quot;cases&quot;: 15, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 1.0}, {&quot;date&quot;: &quot;2020-02-14&quot;, &quot;cases&quot;: 15, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-02-15&quot;, &quot;cases&quot;: 15, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-02-16&quot;, &quot;cases&quot;: 15, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-02-17&quot;, &quot;cases&quot;: 25, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 10.0}, {&quot;date&quot;: &quot;2020-02-18&quot;, &quot;cases&quot;: 25, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-02-19&quot;, &quot;cases&quot;: 25, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-02-20&quot;, &quot;cases&quot;: 27, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 2.0}, {&quot;date&quot;: &quot;2020-02-21&quot;, &quot;cases&quot;: 30, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 3.0}, {&quot;date&quot;: &quot;2020-02-22&quot;, &quot;cases&quot;: 30, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-02-23&quot;, &quot;cases&quot;: 30, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-02-24&quot;, &quot;cases&quot;: 43, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 13.0}, {&quot;date&quot;: &quot;2020-02-25&quot;, &quot;cases&quot;: 45, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 2.0}, {&quot;date&quot;: &quot;2020-02-26&quot;, &quot;cases&quot;: 60, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 15.0}, {&quot;date&quot;: &quot;2020-02-27&quot;, &quot;cases&quot;: 60, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 0.0}, {&quot;date&quot;: &quot;2020-02-28&quot;, &quot;cases&quot;: 65, &quot;deaths&quot;: 0, &quot;new_cases&quot;: 5.0}, {&quot;date&quot;: &quot;2020-02-29&quot;, &quot;cases&quot;: 70, &quot;deaths&quot;: 1, &quot;new_cases&quot;: 5.0}, {&quot;date&quot;: &quot;2020-03-01&quot;, &quot;cases&quot;: 88, &quot;deaths&quot;: 3, &quot;new_cases&quot;: 18.0}, {&quot;date&quot;: &quot;2020-03-02&quot;, &quot;cases&quot;: 104, &quot;deaths&quot;: 6, &quot;new_cases&quot;: 16.0}, {&quot;date&quot;: &quot;2020-03-03&quot;, &quot;cases&quot;: 125, &quot;deaths&quot;: 10, &quot;new_cases&quot;: 21.0}, {&quot;date&quot;: &quot;2020-03-04&quot;, &quot;cases&quot;: 161, &quot;deaths&quot;: 12, &quot;new_cases&quot;: 36.0}, {&quot;date&quot;: &quot;2020-03-05&quot;, &quot;cases&quot;: 228, &quot;deaths&quot;: 12, &quot;new_cases&quot;: 67.0}, {&quot;date&quot;: &quot;2020-03-06&quot;, &quot;cases&quot;: 311, &quot;deaths&quot;: 15, &quot;new_cases&quot;: 83.0}, {&quot;date&quot;: &quot;2020-03-07&quot;, &quot;cases&quot;: 428, &quot;deaths&quot;: 19, &quot;new_cases&quot;: 117.0}, {&quot;date&quot;: &quot;2020-03-08&quot;, &quot;cases&quot;: 547, &quot;deaths&quot;: 22, &quot;new_cases&quot;: 119.0}, {&quot;date&quot;: &quot;2020-03-09&quot;, &quot;cases&quot;: 748, &quot;deaths&quot;: 26, &quot;new_cases&quot;: 201.0}, {&quot;date&quot;: &quot;2020-03-10&quot;, &quot;cases&quot;: 1018, &quot;deaths&quot;: 31, &quot;new_cases&quot;: 270.0}, {&quot;date&quot;: &quot;2020-03-11&quot;, &quot;cases&quot;: 1263, &quot;deaths&quot;: 37, &quot;new_cases&quot;: 245.0}, {&quot;date&quot;: &quot;2020-03-12&quot;, &quot;cases&quot;: 1668, &quot;deaths&quot;: 43, &quot;new_cases&quot;: 405.0}, {&quot;date&quot;: &quot;2020-03-13&quot;, &quot;cases&quot;: 2224, &quot;deaths&quot;: 50, &quot;new_cases&quot;: 556.0}, {&quot;date&quot;: &quot;2020-03-14&quot;, &quot;cases&quot;: 2898, &quot;deaths&quot;: 60, &quot;new_cases&quot;: 674.0}, {&quot;date&quot;: &quot;2020-03-15&quot;, &quot;cases&quot;: 3600, &quot;deaths&quot;: 68, &quot;new_cases&quot;: 702.0}, {&quot;date&quot;: &quot;2020-03-16&quot;, &quot;cases&quot;: 4507, &quot;deaths&quot;: 91, &quot;new_cases&quot;: 907.0}, {&quot;date&quot;: &quot;2020-03-17&quot;, &quot;cases&quot;: 5906, &quot;deaths&quot;: 117, &quot;new_cases&quot;: 1399.0}, {&quot;date&quot;: &quot;2020-03-18&quot;, &quot;cases&quot;: 8350, &quot;deaths&quot;: 162, &quot;new_cases&quot;: 2444.0}, {&quot;date&quot;: &quot;2020-03-19&quot;, &quot;cases&quot;: 12393, &quot;deaths&quot;: 212, &quot;new_cases&quot;: 4043.0}, {&quot;date&quot;: &quot;2020-03-20&quot;, &quot;cases&quot;: 18001, &quot;deaths&quot;: 275, &quot;new_cases&quot;: 5608.0}, {&quot;date&quot;: &quot;2020-03-21&quot;, &quot;cases&quot;: 24526, &quot;deaths&quot;: 358, &quot;new_cases&quot;: 6525.0}, {&quot;date&quot;: &quot;2020-03-22&quot;, &quot;cases&quot;: 33063, &quot;deaths&quot;: 455, &quot;new_cases&quot;: 8537.0}, {&quot;date&quot;: &quot;2020-03-23&quot;, &quot;cases&quot;: 43500, &quot;deaths&quot;: 574, &quot;new_cases&quot;: 10437.0}, {&quot;date&quot;: &quot;2020-03-24&quot;, &quot;cases&quot;: 53924, &quot;deaths&quot;: 769, &quot;new_cases&quot;: 10424.0}, {&quot;date&quot;: &quot;2020-03-25&quot;, &quot;cases&quot;: 68530, &quot;deaths&quot;: 1039, &quot;new_cases&quot;: 14606.0}, {&quot;date&quot;: &quot;2020-03-26&quot;, &quot;cases&quot;: 85558, &quot;deaths&quot;: 1345, &quot;new_cases&quot;: 17028.0}, {&quot;date&quot;: &quot;2020-03-27&quot;, &quot;cases&quot;: 102829, &quot;deaths&quot;: 1758, &quot;new_cases&quot;: 17271.0}, {&quot;date&quot;: &quot;2020-03-28&quot;, &quot;cases&quot;: 123723, &quot;deaths&quot;: 2287, &quot;new_cases&quot;: 20894.0}, {&quot;date&quot;: &quot;2020-03-29&quot;, &quot;cases&quot;: 142397, &quot;deaths&quot;: 2702, &quot;new_cases&quot;: 18674.0}, {&quot;date&quot;: &quot;2020-03-30&quot;, &quot;cases&quot;: 163863, &quot;deaths&quot;: 3356, &quot;new_cases&quot;: 21466.0}, {&quot;date&quot;: &quot;2020-03-31&quot;, &quot;cases&quot;: 188413, &quot;deaths&quot;: 4290, &quot;new_cases&quot;: 24550.0}, {&quot;date&quot;: &quot;2020-04-01&quot;, &quot;cases&quot;: 215161, &quot;deaths&quot;: 5315, &quot;new_cases&quot;: 26748.0}, {&quot;date&quot;: &quot;2020-04-02&quot;, &quot;cases&quot;: 244619, &quot;deaths&quot;: 6542, &quot;new_cases&quot;: 29458.0}, {&quot;date&quot;: &quot;2020-04-03&quot;, &quot;cases&quot;: 277262, &quot;deaths&quot;: 7902, &quot;new_cases&quot;: 32643.0}, {&quot;date&quot;: &quot;2020-04-04&quot;, &quot;cases&quot;: 312498, &quot;deaths&quot;: 9466, &quot;new_cases&quot;: 35236.0}, {&quot;date&quot;: &quot;2020-04-05&quot;, &quot;cases&quot;: 337959, &quot;deaths&quot;: 10828, &quot;new_cases&quot;: 25461.0}, {&quot;date&quot;: &quot;2020-04-06&quot;, &quot;cases&quot;: 367568, &quot;deaths&quot;: 12330, &quot;new_cases&quot;: 29609.0}, {&quot;date&quot;: &quot;2020-04-07&quot;, &quot;cases&quot;: 399352, &quot;deaths&quot;: 14579, &quot;new_cases&quot;: 31784.0}, {&quot;date&quot;: &quot;2020-04-08&quot;, &quot;cases&quot;: 431169, &quot;deaths&quot;: 16673, &quot;new_cases&quot;: 31817.0}, {&quot;date&quot;: &quot;2020-04-09&quot;, &quot;cases&quot;: 465859, &quot;deaths&quot;: 18772, &quot;new_cases&quot;: 34690.0}, {&quot;date&quot;: &quot;2020-04-10&quot;, &quot;cases&quot;: 499325, &quot;deaths&quot;: 21028, &quot;new_cases&quot;: 33466.0}, {&quot;date&quot;: &quot;2020-04-11&quot;, &quot;cases&quot;: 531042, &quot;deaths&quot;: 23105, &quot;new_cases&quot;: 31717.0}, {&quot;date&quot;: &quot;2020-04-12&quot;, &quot;cases&quot;: 558182, &quot;deaths&quot;: 24785, &quot;new_cases&quot;: 27140.0}, {&quot;date&quot;: &quot;2020-04-13&quot;, &quot;cases&quot;: 583940, &quot;deaths&quot;: 26547, &quot;new_cases&quot;: 25758.0}, {&quot;date&quot;: &quot;2020-04-14&quot;, &quot;cases&quot;: 610615, &quot;deaths&quot;: 29246, &quot;new_cases&quot;: 26675.0}, {&quot;date&quot;: &quot;2020-04-15&quot;, &quot;cases&quot;: 640637, &quot;deaths&quot;: 31994, &quot;new_cases&quot;: 30022.0}, {&quot;date&quot;: &quot;2020-04-16&quot;, &quot;cases&quot;: 672243, &quot;deaths&quot;: 34264, &quot;new_cases&quot;: 31606.0}, {&quot;date&quot;: &quot;2020-04-17&quot;, &quot;cases&quot;: 703740, &quot;deaths&quot;: 36626, &quot;new_cases&quot;: 31497.0}, {&quot;date&quot;: &quot;2020-04-18&quot;, &quot;cases&quot;: 732121, &quot;deaths&quot;: 38571, &quot;new_cases&quot;: 28381.0}, {&quot;date&quot;: &quot;2020-04-19&quot;, &quot;cases&quot;: 757475, &quot;deaths&quot;: 40089, &quot;new_cases&quot;: 25354.0}, {&quot;date&quot;: &quot;2020-04-20&quot;, &quot;cases&quot;: 784761, &quot;deaths&quot;: 41919, &quot;new_cases&quot;: 27286.0}, {&quot;date&quot;: &quot;2020-04-21&quot;, &quot;cases&quot;: 810249, &quot;deaths&quot;: 44587, &quot;new_cases&quot;: 25488.0}, {&quot;date&quot;: &quot;2020-04-22&quot;, &quot;cases&quot;: 839017, &quot;deaths&quot;: 46955, &quot;new_cases&quot;: 28768.0}, {&quot;date&quot;: &quot;2020-04-23&quot;, &quot;cases&quot;: 872805, &quot;deaths&quot;: 49123, &quot;new_cases&quot;: 33788.0}, {&quot;date&quot;: &quot;2020-04-24&quot;, &quot;cases&quot;: 909530, &quot;deaths&quot;: 51250, &quot;new_cases&quot;: 36725.0}, {&quot;date&quot;: &quot;2020-04-25&quot;, &quot;cases&quot;: 943802, &quot;deaths&quot;: 53210, &quot;new_cases&quot;: 34272.0}, {&quot;date&quot;: &quot;2020-04-26&quot;, &quot;cases&quot;: 970409, &quot;deaths&quot;: 54465, &quot;new_cases&quot;: 26607.0}, {&quot;date&quot;: &quot;2020-04-27&quot;, &quot;cases&quot;: 993747, &quot;deaths&quot;: 56022, &quot;new_cases&quot;: 23338.0}, {&quot;date&quot;: &quot;2020-04-28&quot;, &quot;cases&quot;: 1018399, &quot;deaths&quot;: 58416, &quot;new_cases&quot;: 24652.0}, {&quot;date&quot;: &quot;2020-04-29&quot;, &quot;cases&quot;: 1045102, &quot;deaths&quot;: 60930, &quot;new_cases&quot;: 26703.0}, {&quot;date&quot;: &quot;2020-04-30&quot;, &quot;cases&quot;: 1075517, &quot;deaths&quot;: 63140, &quot;new_cases&quot;: 30415.0}, {&quot;date&quot;: &quot;2020-05-01&quot;, &quot;cases&quot;: 1109476, &quot;deaths&quot;: 64902, &quot;new_cases&quot;: 33959.0}, {&quot;date&quot;: &quot;2020-05-02&quot;, &quot;cases&quot;: 1138944, &quot;deaths&quot;: 66485, &quot;new_cases&quot;: 29468.0}, {&quot;date&quot;: &quot;2020-05-03&quot;, &quot;cases&quot;: 1165013, &quot;deaths&quot;: 67816, &quot;new_cases&quot;: 26069.0}, {&quot;date&quot;: &quot;2020-05-04&quot;, &quot;cases&quot;: 1186965, &quot;deaths&quot;: 68905, &quot;new_cases&quot;: 21952.0}, {&quot;date&quot;: &quot;2020-05-05&quot;, &quot;cases&quot;: 1210669, &quot;deaths&quot;: 71139, &quot;new_cases&quot;: 23704.0}, {&quot;date&quot;: &quot;2020-05-06&quot;, &quot;cases&quot;: 1235174, &quot;deaths&quot;: 73847, &quot;new_cases&quot;: 24505.0}, {&quot;date&quot;: &quot;2020-05-07&quot;, &quot;cases&quot;: 1263668, &quot;deaths&quot;: 75805, &quot;new_cases&quot;: 28494.0}, {&quot;date&quot;: &quot;2020-05-08&quot;, &quot;cases&quot;: 1291329, &quot;deaths&quot;: 77380, &quot;new_cases&quot;: 27661.0}, {&quot;date&quot;: &quot;2020-05-09&quot;, &quot;cases&quot;: 1316167, &quot;deaths&quot;: 78834, &quot;new_cases&quot;: 24838.0}, {&quot;date&quot;: &quot;2020-05-10&quot;, &quot;cases&quot;: 1336478, &quot;deaths&quot;: 79765, &quot;new_cases&quot;: 20311.0}, {&quot;date&quot;: &quot;2020-05-11&quot;, &quot;cases&quot;: 1354096, &quot;deaths&quot;: 80747, &quot;new_cases&quot;: 17618.0}, {&quot;date&quot;: &quot;2020-05-12&quot;, &quot;cases&quot;: 1376388, &quot;deaths&quot;: 82400, &quot;new_cases&quot;: 22292.0}, {&quot;date&quot;: &quot;2020-05-13&quot;, &quot;cases&quot;: 1397520, &quot;deaths&quot;: 84168, &quot;new_cases&quot;: 21132.0}, {&quot;date&quot;: &quot;2020-05-14&quot;, &quot;cases&quot;: 1424474, &quot;deaths&quot;: 85906, &quot;new_cases&quot;: 26954.0}, {&quot;date&quot;: &quot;2020-05-15&quot;, &quot;cases&quot;: 1450700, &quot;deaths&quot;: 87499, &quot;new_cases&quot;: 26226.0}, {&quot;date&quot;: &quot;2020-05-16&quot;, &quot;cases&quot;: 1474351, &quot;deaths&quot;: 88724, &quot;new_cases&quot;: 23651.0}, {&quot;date&quot;: &quot;2020-05-17&quot;, &quot;cases&quot;: 1493350, &quot;deaths&quot;: 89568, &quot;new_cases&quot;: 18999.0}, {&quot;date&quot;: &quot;2020-05-18&quot;, &quot;cases&quot;: 1515177, &quot;deaths&quot;: 90414, &quot;new_cases&quot;: 21827.0}, {&quot;date&quot;: &quot;2020-05-19&quot;, &quot;cases&quot;: 1536129, &quot;deaths&quot;: 91934, &quot;new_cases&quot;: 20952.0}, {&quot;date&quot;: &quot;2020-05-20&quot;, &quot;cases&quot;: 1559003, &quot;deaths&quot;: 93406, &quot;new_cases&quot;: 22874.0}, {&quot;date&quot;: &quot;2020-05-21&quot;, &quot;cases&quot;: 1584826, &quot;deaths&quot;: 94721, &quot;new_cases&quot;: 25823.0}, {&quot;date&quot;: &quot;2020-05-22&quot;, &quot;cases&quot;: 1608710, &quot;deaths&quot;: 96010, &quot;new_cases&quot;: 23884.0}, {&quot;date&quot;: &quot;2020-05-23&quot;, &quot;cases&quot;: 1630912, &quot;deaths&quot;: 97060, &quot;new_cases&quot;: 22202.0}, {&quot;date&quot;: &quot;2020-05-24&quot;, &quot;cases&quot;: 1651004, &quot;deaths&quot;: 97680, &quot;new_cases&quot;: 20092.0}, {&quot;date&quot;: &quot;2020-05-25&quot;, &quot;cases&quot;: 1670101, &quot;deaths&quot;: 98190, &quot;new_cases&quot;: 19097.0}, {&quot;date&quot;: &quot;2020-05-26&quot;, &quot;cases&quot;: 1688958, &quot;deaths&quot;: 98937, &quot;new_cases&quot;: 18857.0}, {&quot;date&quot;: &quot;2020-05-27&quot;, &quot;cases&quot;: 1707719, &quot;deaths&quot;: 100422, &quot;new_cases&quot;: 18761.0}]}}, {&quot;mode&quot;: &quot;vega-lite&quot;});
&lt;/script&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    

&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;Isn't that amazing&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;h2 id=&quot;TODO&quot;&gt;TODO&lt;a class=&quot;anchor-link&quot; href=&quot;#TODO&quot;&gt; &lt;/a&gt;&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;[ ] Adding tooltip/text to interactive bar chart&lt;/li&gt;
&lt;/ul&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</content><author><name>Shantam Raj</name></author><summary type="html"></summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://armsp.github.io/covidviz/images/line_area_bar.png" /><media:content medium="image" url="https://armsp.github.io/covidviz/images/line_area_bar.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">What is Altair?</title><link href="https://armsp.github.io/covidviz/2020/05/28/Altair-Intro.html" rel="alternate" type="text/html" title="What is Altair?" /><published>2020-05-28T00:00:00-05:00</published><updated>2020-05-28T00:00:00-05:00</updated><id>https://armsp.github.io/covidviz/2020/05/28/Altair-Intro</id><content type="html" xml:base="https://armsp.github.io/covidviz/2020/05/28/Altair-Intro.html">&lt;!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2020-05-28-Altair Intro.ipynb
--&gt;

&lt;div class=&quot;container&quot; id=&quot;notebook-container&quot;&gt;
        
    
    
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;

&lt;/div&gt;
    

&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;To understand Altair we need to know what is it built on. The following hierarchy enables us to understand that -&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://d3js.org/&quot;&gt;D3&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://vega.github.io/vega/&quot;&gt;Vega&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://vega.github.io/vega-lite/&quot;&gt;Vega-Lite&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://altair-viz.github.io/&quot;&gt;Altair&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;Lets start with Vega.&lt;/p&gt;
&lt;h3 id=&quot;What-is-Vega?&quot;&gt;What is Vega?&lt;a class=&quot;anchor-link&quot; href=&quot;#What-is-Vega?&quot;&gt; &lt;/a&gt;&lt;/h3&gt;&lt;blockquote&gt;&lt;p&gt;Vega is a visualization grammar, a declarative language for creating, saving, and sharing interactive visualization designs. With Vega, you can describe the visual appearance and interactive behavior of a visualization in a JSON format, and generate web-based views using Canvas or SVG.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;&lt;div class=&quot;flash&quot;&gt;
    &lt;svg class=&quot;octicon octicon-info&quot; viewBox=&quot;0 0 14 16&quot; version=&quot;1.1&quot; width=&quot;14&quot; height=&quot;16&quot; aria-hidden=&quot;true&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M6.3 5.69a.942.942 0 01-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 01-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;
    &lt;strong&gt;Note: &lt;/strong&gt;visualization grammar
&lt;/div&gt;&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;h3 id=&quot;Where-does-D3-fit-in-here?&quot;&gt;Where does D3 fit in here?&lt;a class=&quot;anchor-link&quot; href=&quot;#Where-does-D3-fit-in-here?&quot;&gt; &lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;blockquote&gt;&lt;p&gt;To be clear, Vega is not intended as a replacement for D3. D3 is intentionally a lower-level library. During the early design of D3, we even referred to it as a visualization kernel rather than a toolkit or framework. In addition to custom design, D3 is intended as a supporting layer for higher-level visualization tools. Vega is one such tool, and Vega uses D3 heavily within its implementation.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;blockquote&gt;&lt;p&gt;Vega provides a higher-level visualization specification language on top of D3. By design, D3 will maintain an expressivity advantage and in some cases will be better suited for novel design ideas. On the other hand, we intend Vega to be convenient for a wide range of common yet customizable visualizations.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;Now, that we know the top hierarchy, the rest is easy to follow -&lt;/p&gt;
&lt;h3 id=&quot;Vega-Lite&quot;&gt;&lt;strong&gt;Vega-Lite&lt;/strong&gt;&lt;a class=&quot;anchor-link&quot; href=&quot;#Vega-Lite&quot;&gt; &lt;/a&gt;&lt;/h3&gt;&lt;blockquote&gt;&lt;p&gt;Vega-Lite is a high-level grammar of interactive graphics. It provides a concise JSON syntax for rapidly generating visualizations to support analysis. Vega-Lite specifications can be compiled to Vega specifications.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;&lt;div class=&quot;flash&quot;&gt;
    &lt;svg class=&quot;octicon octicon-info octicon octicon-info&quot; viewBox=&quot;0 0 14 16&quot; version=&quot;1.1&quot; width=&quot;14&quot; height=&quot;16&quot; aria-hidden=&quot;true&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M6.3 5.69a.942.942 0 01-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 01-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;
    &lt;strong&gt;Note: &lt;/strong&gt;high-level visualization grammar
&lt;/div&gt;&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;Vega-Lite is used by some big players -&lt;/p&gt;
&lt;!-- aergus/latex --&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;ul class=&quot;logos&quot;&gt;
  &lt;li&gt;&lt;img src=&quot;/covidviz/assets/logo_apple.png&quot; alt=&quot;Apple&quot; title=&quot;&quot; /&gt;&lt;/li&gt;
  &lt;li&gt;&lt;img src=&quot;/covidviz/assets/logo_google.png&quot; alt=&quot;Google&quot; /&gt;&lt;/li&gt;
  &lt;li&gt;&lt;img src=&quot;/covidviz/assets/logo_ms.png&quot; alt=&quot;Microsoft&quot; /&gt;&lt;/li&gt;
  &lt;li&gt;&lt;img src=&quot;/covidviz/assets/logo_tableau.png&quot; alt=&quot;Tableau&quot; /&gt;&lt;/li&gt;
  &lt;li&gt;&lt;img src=&quot;/covidviz/assets/logo_airbnb.png&quot; alt=&quot;Airbnb&quot; /&gt;&lt;/li&gt;
  &lt;li&gt;&lt;img src=&quot;/covidviz/assets/logo_jlab.png&quot; alt=&quot;JupyterLab&quot; /&gt;&lt;/li&gt;
  &lt;li&gt;&lt;img src=&quot;/covidviz/assets/logo_la_times.png&quot; alt=&quot;LA Times&quot; /&gt;&lt;/li&gt;
  &lt;li&gt;&lt;img src=&quot;/covidviz/assets/logo_cern.png&quot; alt=&quot;CERN&quot; /&gt;&lt;/li&gt;
  &lt;li&gt;&lt;img src=&quot;/covidviz/assets/logo_mit.png&quot; alt=&quot;Massachusetts Institute of Technology&quot; /&gt;&lt;/li&gt;
  &lt;li&gt;&lt;img src=&quot;/covidviz/assets/logo_uw.png&quot; alt=&quot;University of Washington&quot; /&gt;&lt;/li&gt;
  &lt;li&gt;&lt;img src=&quot;/covidviz/assets/logo_cmu.png&quot; alt=&quot;Carnegie Mellon University&quot; /&gt;&lt;/li&gt;
  &lt;li&gt;&lt;img src=&quot;/covidviz/assets/logo_berkeley.png&quot; alt=&quot;Berkeley&quot; /&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;h3 id=&quot;Altair&quot;&gt;&lt;strong&gt;Altair&lt;/strong&gt;&lt;a class=&quot;anchor-link&quot; href=&quot;#Altair&quot;&gt; &lt;/a&gt;&lt;/h3&gt;&lt;p&gt;In short, Altair exposes a Python API for building statistical visualizations that follows Vega-Lite syntax.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Altair is a declarative statistical visualization library for Python, based on Vega and Vega-Lite. With Altair, you can spend more time understanding your data and its meaning.&lt;/p&gt;
&lt;p&gt;Altairs API is simple, friendly and consistent and built on top of the powerful Vega-Lite visualization grammar. This elegant simplicity produces beautiful and effective visualizations with a minimal amount of code.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;hr /&gt;
&lt;p&gt;I do not intend to teach you how to use Altair or Vega Lite. You can do that on your own using the following excellent resources -&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Conference Talk by Jake VanderPlas

&lt;center&gt;
    &lt;iframe width=&quot;560&quot; height=&quot;315&quot; src=&quot;https://www.youtube.com/embed/watch?v=ms29ZPUKxbU&quot; frameborder=&quot;0&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;
&lt;/center&gt;
&lt;/li&gt;
&lt;/ul&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://altair-viz.github.io/altair-tutorial/README.html&quot;&gt;Exploratory Data Visualization with Altair&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/uwdata/visualization-curriculum&quot;&gt;UW Data Viz Curriculum&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</content><author><name>Shantam Raj</name></author><summary type="html"></summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://armsp.github.io/covidviz/images/intro.png" /><media:content medium="image" url="https://armsp.github.io/covidviz/images/intro.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry></feed>